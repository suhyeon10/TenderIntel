# Supabase í…Œì´ë¸” ì •ë¦¬ ë³´ê³ ì„œ

## ğŸ“‹ ê°œìš”

READMEì™€ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë¹„êµí•˜ì—¬ ë¶ˆí•„ìš”í•œ ë ˆê±°ì‹œ í…Œì´ë¸”ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

## âœ… ì‚­ì œëœ í…Œì´ë¸”

### 1. ë ˆê±°ì‹œ ë¬¸ì„œ í…Œì´ë¸” (5ê°œ)
- **`docs`** - ë ˆê±°ì‹œ ë¬¸ì„œ ë©”íƒ€ë°ì´í„° í…Œì´ë¸”
  - ëŒ€ì²´: `announcements` í…Œì´ë¸”ë¡œ ëŒ€ì²´ë¨
  - ë°ì´í„°: 0ê°œ í–‰
  - ì°¸ì¡°: `doc_chunks`, `doc_owners`, `announcement_metadata`ì—ì„œ ì°¸ì¡°

- **`doc_chunks`** - ë ˆê±°ì‹œ ë¬¸ì„œ ì²­í¬ í…Œì´ë¸”
  - ëŒ€ì²´: `announcement_chunks` í…Œì´ë¸”ë¡œ ëŒ€ì²´ë¨
  - ë°ì´í„°: 0ê°œ í–‰
  - ì°¸ì¡°: `docs` í…Œì´ë¸” ì°¸ì¡°

- **`doc_owners`** - ë ˆê±°ì‹œ ë¬¸ì„œ ì†Œìœ ì í…Œì´ë¸”
  - ëŒ€ì²´: `announcements` í…Œì´ë¸”ì˜ `created_by` ì»¬ëŸ¼ìœ¼ë¡œ ëŒ€ì²´ë¨
  - ë°ì´í„°: 0ê°œ í–‰
  - ì°¸ì¡°: `docs` í…Œì´ë¸” ì°¸ì¡°

- **`announcement_metadata`** - ë ˆê±°ì‹œ ê³µê³  ë©”íƒ€ë°ì´í„° í…Œì´ë¸”
  - ëŒ€ì²´: `announcements` í…Œì´ë¸”ë¡œ ëŒ€ì²´ë¨
  - ë°ì´í„°: 0ê°œ í–‰
  - ì°¸ì¡°: `docs` í…Œì´ë¸” ì°¸ì¡°, `bidding_history`ì—ì„œ ì°¸ì¡°

- **`bidding_history`** - ë ˆê±°ì‹œ ì…ì°° ì´ë ¥ í…Œì´ë¸”
  - ëŒ€ì²´: í˜„ì¬ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
  - ë°ì´í„°: 0ê°œ í–‰
  - ì°¸ì¡°: `announcement_metadata`, `teams` í…Œì´ë¸” ì°¸ì¡°

## ğŸ”„ ìœ ì§€ëœ í…Œì´ë¸” (ì¤‘ë³µì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ë‹¤ë¥¸ ìš©ë„)

### 1. ê²°ì œ ê´€ë ¨ í…Œì´ë¸”
- **`payment`** (ë‹¨ìˆ˜í˜•) - ë§ˆì¼ìŠ¤í†¤ ì§€ê¸‰ ë‚´ì—­
  - ìš©ë„: í”„ë¡œì íŠ¸ ë§ˆì¼ìŠ¤í†¤ë³„ ì§€ê¸‰ ë‚´ì—­ ê´€ë¦¬
  - ì°¸ì¡°: `milestone` í…Œì´ë¸” ì°¸ì¡°
  - ì»¬ëŸ¼: `payment_id`, `milestone_id`, `payment_amount`, `payment_date`, `payment_method`, `payment_status`

- **`payments`** (ë³µìˆ˜í˜•) - êµ¬ë… ê²°ì œ ë‚´ì—­
  - ìš©ë„: ì‚¬ìš©ì êµ¬ë… ê²°ì œ ë‚´ì—­ ê´€ë¦¬
  - ì°¸ì¡°: `subscriptions` í…Œì´ë¸” ì°¸ì¡°
  - ì»¬ëŸ¼: `id`, `user_id`, `subscription_id`, `amount`, `currency`, `payment_method`, `payment_status`, `pg_provider`, `portone_imp_uid`, `portone_merchant_uid`, `is_first_month`, `receipt_url`, `paid_at`, `created_at`, `updated_at`

## ğŸ“Š README ê¸°ì¤€ í•„ìˆ˜ í…Œì´ë¸”

### Legal ì„œë¹„ìŠ¤ ê´€ë ¨
- âœ… `legal_documents` - ë²•ë¥  ë¬¸ì„œ ë©”íƒ€ë°ì´í„°
- âœ… `legal_document_bodies` - ë²•ë¥  ë¬¸ì„œ ì›ë³¸ ë³¸ë¬¸
- âœ… `legal_chunks` - ë²•ë¥  ë¬¸ì„œ ì²­í¬ ë° ì„ë² ë”© (373ê°œ í–‰)
- âœ… `contract_analyses` - ê³„ì•½ì„œ ë¶„ì„ ê²°ê³¼ (10ê°œ í–‰)
- âœ… `contract_issues` - ê³„ì•½ì„œ ì´ìŠˆ ìƒì„¸
- âœ… `situation_analyses` - ìƒí™© ë¶„ì„ ê¸°ë¡

### ê³µê³  ì„œë¹„ìŠ¤ ê´€ë ¨
- âœ… `announcements` - ê³µê³  ë©”íƒ€ë°ì´í„° (18ê°œ í–‰)
- âœ… `announcement_bodies` - ê³µê³  ì›ë³¸ ë³¸ë¬¸ (18ê°œ í–‰)
- âœ… `announcement_chunks` - ê³µê³  ì²­í¬ ë° ì„ë² ë”© (338ê°œ í–‰)
- âœ… `announcement_analysis` - ê³µê³  ë¶„ì„ ê²°ê³¼ (36ê°œ í–‰)
- âœ… `public_announcements` - ê³µê³  (ê³µê³  ì„œë¹„ìŠ¤ìš©)
- âœ… `announcement_embeddings` - ê³µê³  ì„ë² ë”©
- âœ… `announcement_team_matches` - ê³µê³ -íŒ€ ë§¤ì¹­
- âœ… `announcement_estimates` - ê³µê³  ê²¬ì 

### ê¸°íƒ€ í•„ìˆ˜ í…Œì´ë¸”
- âœ… `accounts` - ì‚¬ìš©ì í”„ë¡œí•„
- âœ… `teams` - íŒ€ ì •ë³´
- âœ… `subscriptions` - êµ¬ë… ì •ë³´
- âœ… `payments` - êµ¬ë… ê²°ì œ ë‚´ì—­
- âœ… `payment` - ë§ˆì¼ìŠ¤í†¤ ì§€ê¸‰ ë‚´ì—­
- âœ… `estimate` - ê²¬ì 
- âœ… `counsel` - ìƒë‹´
- âœ… ê¸°íƒ€ í”„ë¡œì íŠ¸ ê´€ë ¨ í…Œì´ë¸”ë“¤

## ğŸ¯ ì •ë¦¬ ê²°ê³¼

- **ì‚­ì œëœ í…Œì´ë¸”**: 5ê°œ
- **ìœ ì§€ëœ í…Œì´ë¸”**: 40ê°œ ì´ìƒ
- **ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼**: `supabase/migrations/cleanup_unused_tables.sql`
- **ì ìš© ìƒíƒœ**: âœ… ì™„ë£Œ

## ğŸ“ ì°¸ê³ ì‚¬í•­

1. **ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´**: CASCADE ì˜µì…˜ìœ¼ë¡œ ê´€ë ¨ ì œì•½ì¡°ê±´ë„ ìë™ ì‚­ì œë¨
2. **ë°ì´í„° ì†ì‹¤ ì—†ìŒ**: ëª¨ë“  ì‚­ì œëœ í…Œì´ë¸”ì€ ë°ì´í„°ê°€ ì—†ì—ˆìŒ (0ê°œ í–‰)
3. **ë°±ì—… ê¶Œì¥**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì‚­ì œ ì „ ë°±ì—… ê¶Œì¥

